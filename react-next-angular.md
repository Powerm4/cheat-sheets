# React - Next & Angular

- React
  - [React Ecosystem](#react-ecosystem)
  - [Folder Structure](#folder-structure)
  - [Next Open Source Projects](#next-open-source-projects)
  - [React Best Practices](#react-best-practices)
  - [Interview Questions](#interview-questions)
  - [Tailwind CSS](#tailwind-css)
- [Angular](#angular)

# React Ecosystem

1. #### Getting Started
   - [Vite (For react projects)](https://vitejs.dev/guide/)
   - [Next JS (Full-stack React Framework)](https://nextjs.org/)
   - [React Admin (B2B React Framework)](https://marmelab.com/react-admin/)
   - [Refine (B2B React Framework)](https://refine.dev/)
   - [Waku (React Framework)](https://waku.gg/)
   - [Astro (Content-based Website)](https://astro.build/)
   - [CodeSandbox (For trying online)](https://codesandbox.io/)
   - [StackBlitz (For trying online)](https://stackblitz.com/)
2. #### Auth
   - [Clerk](https://clerk.com/)
   - [Kinde](https://kinde.com/)
   - [AuthKit](https://workos.com/)
   - [next-auth](https://next-auth.js.org/)
3. #### Routing
   - [React Router (Remix)](https://reactrouter.com/en/main)
   - [TanStack Router](https://tanstack.com/router/v1)
4. #### Client State Management
   - [Redux Toolkit](https://redux-toolkit.js.org/)
   - [Zustand](https://zustand-demo.pmnd.rs/)
   - [Jotai](https://jotai.org/)
   - [mobx](https://mobx.js.org/)
5. #### Server State Management
   - [RTK Query](https://redux-toolkit.js.org/rtk-query/overview)
   - [TanStack Query](https://tanstack.com/query/latest)
   - [swr](https://swr.vercel.app/)
   - [Apollo Client](https://www.apollographql.com/docs/react/)
6. #### Form Handling
   - [React Hook Form](https://react-hook-form.com/)
   - [Zod](https://zod.dev/)
   - [Formik](https://formik.org/docs/overview)
7. #### Styling
   - [Tailwind CSS](https://tailwindcss.com/)
     - [flowbite](https://flowbite.com/)
     - [Keep React](https://react.keepdesign.io/)
     - [tailblocks](https://tailblocks.cc/)
     - [tailwindtoolbox](https://tailwindtoolbox.com/)
     - [tailkit](https://tailkit.com/)
     - [tailwindwidgets](https://tailwindwidgets.com/)
     - [merakiui](https://merakiui.com/)
   - [styled-components](https://styled-components.com/)
   - [Emotion](https://emotion.sh/docs/introduction)
   - [matcha](https://matcha.mizu.sh/) Make naked websites look great
   - [98.css](https://jdan.github.io/98.css/)
   - [XP.css](https://botoxparty.github.io/XP.css/)
   - [7.css](https://khang-nd.github.io/7.css/)
8. #### UI Component
   - [shadcn/ui](https://ui.shadcn.com/)
   - [platejs](https://platejs.org/)
   - [magicui](https://magicui.design/docs/installation)
   - [aceternity](https://ui.aceternity.com/)
   - [NextUI](https://nextui.org/)
   - [eldoraui](https://www.eldoraui.site/)
   - [xyflow](https://www.xyflow.com/) node-based UIs
   - [ark-ui](https://ark-ui.com/)
   - [headlessui](https://headlessui.com/)
   - [react-aria](https://react-spectrum.adobe.com/react-aria/)
   - [radix](https://www.radix-ui.com/)
   - [ariakit](https://ariakit.org/)
   - [park-ui](https://park-ui.com/)
   - [daisyUI](https://daisyui.com/)
   - [evergreen](https://evergreen.segment.com/)
   - [Ant Design](https://ant.design/)
   - [MUI](https://mui.com/)
   - [Mantine](https://mantine.dev/)
   - [Chakra UI](https://chakra-ui.com/)
   - [blueprintjs](https://blueprintjs.com/docs/)
   - [React Suite](https://rsuitejs.com/)
9. #### Other UI libs
   - [floating-ui](https://floating-ui.com/)
   - [fullcalendar](https://fullcalendar.io/)
   - [react-hot-toast](https://react-hot-toast.com/)
   - [react-toastify](https://fkhadra.github.io/react-toastify/introduction)
   - [sweetalert2](https://sweetalert2.github.io/)
   - [maska (input masking)](https://beholdr.github.io/maska/v3/#/)
   - [react-jsonschema-form](https://rjsf-team.github.io/react-jsonschema-form/)
   - [skeletonreact](https://skeletonreact.com/)
   - [react-svgr](https://react-svgr.com/)
   - [react-player](https://cookpete.github.io/react-player/)
   - [React Slick Carousel](https://react-slick.neostack.com/)
   - [coolshapes-react](https://github.com/realvjy/coolshapes-react)
10. #### Drag and Drop
    - [swapy](https://swapy.tahazsh.com/)
    - [pragmatic-drag-and-drop](https://atlassian.design/components/pragmatic-drag-and-drop/about)
    - [dnd kit](https://dndkit.com/)
    - [react-dnd](https://react-dnd.github.io/react-dnd/about)
    - [react-dropzone](https://react-dropzone.js.org/)
    - [react-grid-layout](https://github.com/react-grid-layout/react-grid-layout)
    - [react-sortable-tree](https://github.com/frontend-collective/react-sortable-tree)
    - [Sortable](https://sortablejs.github.io/Sortable/)
11. #### Animation
    - [react-spring](https://www.react-spring.dev/)
    - [Framer Motion](https://www.framer.com/motion/)
    - [GSAP](https://gsap.com/resources/React/)
    - [threejs](https://threejs.org/)
    - [theatrejs](https://www.theatrejs.com/)
    - [typed-js](https://mattboldt.com/demos/typed-js/)
    - [scrollmagic](https://scrollmagic.io/)
    - [scrollrevealjs](https://scrollrevealjs.org/)
    - [animejs](https://animejs.com/)
    - [mojs](https://mojs.github.io/)
    - [Animate.css](https://animate.style/)
    - [remotion](https://www.remotion.dev/)
    - [vivus](https://maxwellito.github.io/vivus/)
    - [lottie](https://airbnb.io/lottie/#/)
    - [popmotion](https://popmotion.io/)
12. #### Data Visualization/Chart/Table
    - [VictoryChart](https://formidable.com/open-source/victory/docs/victory-chart/)
    - [react-chartjs-2](https://react-chartjs-2.js.org/)
    - [Recharts](https://recharts.org/en-US/)
    - [d3js](https://d3js.org/)
    - [tremor](https://www.tremor.so/)
    - [TanStack Table](https://tanstack.com/table/v8)
    - [ag-grid](https://www.ag-grid.com/)
    - [tabulator](https://tabulator.info/)
13. #### PDF
    - [react-pdf](https://react-pdf.org/)
14. #### Tour Guide
    - [react-joyride](https://react-joyride.com/)
    - [driver.js](https://driverjs.com/)
    - [introjs](https://introjs.com/)
    - [onborda](https://www.onborda.dev/)
    - [tourguidejs](https://tourguidejs.com/)
    - [flows](https://flows.sh/)
    - [shepherdjs](https://shepherdjs.dev/)
    - [bootstraptour](https://bootstraptour.com/)
15. #### HTTP
    - [Axios](https://axios-http.com/docs/intro)
    - [Ky](https://github.com/sindresorhus/ky)
    - [Better Fetch](https://github.com/bekacru/better-fetch)
    - [Wretch](https://github.com/elbywan/wretch)
    - [Ofetch](https://github.com/unjs/ofetch)
16. #### AI
    - [copilotkit](https://www.copilotkit.ai/)
17. #### Internationalization
    - [react-i18next](https://react.i18next.com/)
    - [FormatJS](https://formatjs.io/docs/react-intl/)
18. #### Testing
    - [Vitest](https://vitest.dev/)
    - [Cypress](https://cypress.io/)
    - [Playwright](https://playwright.dev/)
    - [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)
19. #### DevTools
    - [React Developer Tools (chrome link)](https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi)
    - [Redux DevTools (chrome link)](https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd)
    - [Testing Playground (chrome link)](https://chrome.google.com/webstore/detail/testing-playground/hejbmebodbijjdhflfknehhcgaklhano)
    - [React Hook Form DevTools](https://react-hook-form.com/dev-tools)
    - [TanStack Query DevTools](https://tanstack.com/query/v4/docs/react/devtools)
    - [Fake Filler (chrome link)](https://chrome.google.com/webstore/detail/fake-filler/bnjjngeaknajbdcgpfkgnonkmififhfo)
    - [Responsive Viewer (chrome link)](https://chrome.google.com/webstore/detail/responsive-viewer/inmopeiepgfljkpkidclfgbgbmfcennb)
    - [Web Developer (chrome link)](https://chrome.google.com/webstore/detail/web-developer/bfbameneiokkgbdmiekhjnmfkcnldhhm)
    - [CSS Peeper (chrome link)](https://chrome.google.com/webstore/detail/css-peeper/mbnbehikldjhnfehhnaidhjhoofhpehk)
    - [CSS Viewer for Google Chrome (chrome link)](https://chrome.google.com/webstore/detail/css-viewer-for-google-chr/eedfldkdghfkhdcanjnfiklpeehbfoag)
    - [Project Naptha (chrome link)](https://chrome.google.com/webstore/detail/project-naptha/molncoemjfmpgdkbdlbjmhlcgniigdnf)
20. #### Documentation Apps
    - [Docusaurus](https://docusaurus.io/)
    - [Nextra](https://nextra.site/)
21. #### Component Dev Env
    - [Storybook](https://storybook.js.org/)
22. #### Type Checking
    - [TypeScript](https://www.typescriptlang.org/)
    - [JSDoc](https://jsdoc.app/)
23. #### Mobile/Desktop Apps
    - [Tauri](https://tauri.app/)
    - [React Native](https://reactnative.dev/)
    - [React Native for Windows + macOS](https://microsoft.github.io/react-native-windows/)
    - [Electron](https://www.electronjs.org/) - [Electron Vite](https://electron-vite.github.io/) - [Electron Vite](https://electron-vite.org/)
    - [nativescript](https://nativescript.org/)
24. #### Other Libraries
    - [mitosis](https://mitosis.builder.io/) Write components once, run everywhere.
    - [million](https://million.dev/)
    - [avvvatars](https://avvvatars.com/)
    - [Supabase](https://supabase.com/)
    - [appwrite](https://appwrite.io/)
    - [payloadcms](https://payloadcms.com/)
    - [watermelondb](https://watermelondb.dev/)
    - [react-markdown](https://remarkjs.github.io/react-markdown/)
    - [react-tweet](https://react-tweet.vercel.app/)
    - [react-advanced-cropper](https://advanced-cropper.github.io/react-advanced-cropper/)
    - [luxon](https://moment.github.io/luxon/#/)
    - [craft.js](https://github.com/prevwong/craft.js)

### Fundamental building blocks of React, known as primitives:

**1. Components:**

- Reusable pieces of UI that encapsulate their own logic and rendering.
- Can be classified as:
  - **Functional Components:** Simple JavaScript functions that return JSX.
  - **Class Components:** Extend React.Component and manage state and lifecycle methods using `this`.

**2. JSX:**

- A syntax extension for JavaScript that allows writing HTML-like structures within code.
- Elements in JSX can represent both React components and DOM elements.

**3. Props:**

- Data passed from parent components to child components.
- Used to customize the behavior and appearance of child components.

**4. State:**

- Data that can change over time within a component.
- Managed using the `useState` hook in functional components or `this.state` in class components.
- Changes to state trigger re-renders of the component and its children.

**5. Rendering:**

- The process of generating the UI based on the component's state and props.
- React uses a virtual DOM to efficiently update only the necessary parts of the actual DOM.

**6. Lifecycle Methods:**

- Methods that are called at different stages of a component's lifecycle (mounting, updating, unmounting).
- Used for tasks like data fetching, subscriptions, or cleanup.
- Available in class components, but functional components can use hooks for similar effects.

**7. Hooks:**

- Functions that allow you to "hook into" React features like state and lifecycle methods from functional components.
- Examples include `useState`, `useEffect`, `useContext`, `useMemo`, and more.

**8. Virtual DOM:**

- An in-memory representation of the actual DOM.
- React uses it to compare changes and apply only the necessary updates to the real DOM, improving performance.

**9. Reconciliation:**

- The process of comparing the virtual DOM with the actual DOM to determine the minimal changes needed.
- React's efficient reconciliation algorithm is a key factor in its performance.

### useMemo

```js
// The useMemo hook is used to memoize the result of a computation. Memoization is a technique where the result of a function is cached and returned when the same inputs occur again, instead of recomputing the result. This can be useful for optimizing performance in certain scenarios, especially when dealing with expensive calculations or rendering.

import React, { useState, useMemo } from "react";

function App() {
  const [count, setCount] = useState(0);
  const [toDos, setToDos] = useState([{ id: 1, text: "Learn React" }]);

  const filteredToDos = useMemo(() => {
    // Expensive filtering operation
    return toDos.filter((todo) => todo.id !== count);
  }, [toDos, count]);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
      <ul>
        {filteredToDos.map((todo) => (
          <li key={todo.id}>{todo.text}</li>
        ))}
      </ul>
    </div>
  );
}
```

# Folder Structure

### Level 1:

```
└── src/
    ├── assets/
    ├── api/
    ├── configs/
    ├── components/
    │   ├── SignUpForm.tsx
    │   ├── Employees.tsx
    │   ├── PaymentForm.tsx
    │   └── Button.tsx
    ├── hooks/
    │   ├── usePayment.ts
    │   ├── useUpdateEmployee.ts
    │   ├── useEmployees.ts
    │   └── useAuth.tsx
    ├── lib/
    ├── services/
    ├── states/
    ├── utils/
    ├── main.tsx
    └── App.tsx
```

### Level 2:

```
└── src/
    ├── assets/
    ├── api/
    ├── configs/
    ├── components/
    │   ├── auth/
    │   │   └── SignUpForm.tsx
    │   ├── payment/
    │   │   └── PaymentForm.tsx
    │   ├── common/
    │   │   └── Button.tsx
    │   └── employees/
    │       ├── EmployeeList.tsx
    │       └── EmployeeSummary.tsx
    ├── hooks/
    │   ├── auth/
    │   │   └── useAuth.ts
    │   ├── payment/
    │   │   └── usePayment.ts
    │   └── employees/
    │       ├── useEmployees.ts
    │       └── useUpdateEmployee.ts
    ├── lib/
    ├── services/
    ├── states/
    ├── utils/
    ├── main.tsx
    └── App.tsx
```

### Level 3:

```
└── src/
    ├── assets/
    ├── core/
    │   ├── services/
    │   ├── store/
    │   ├── api/
    │   └── ...
    ├── modules/
    │   ├── payment/
    │   │   ├── components/
    │   │   │   └── PaymentForm.tsx
    │   │   ├── hooks/
    │   │   │   └── usePayment.ts
    │   │   ├── index.tsx
    │   │   └── ...
    │   ├── auth/
    │   │   ├── components/
    │   │   │   └── SignUpForm.tsx
    │   │   ├── index.tsx
    │   │   └── ...
    │   ├── employees/
    │   │   ├── components/
    │   │   │   ├── EmployeeList.tsx
    │   │   │   └── EmployeeSummary.tsx
    │   │   ├── hooks/
    │   │   │   ├── useEmployees.ts
    │   │   │   └── useUpdateEmployee.ts
    │   │   ├── index.tsx
    │   │   └── ...
    │   └── ...
    ├── shared/
    │   ├── components/
    │   │   └── Button.tsx
    │   ├── constants/
    │   ├── enums/
    │   ├── hooks/
    │   │   └── useAuth.ts
    │   ├── models/
    │   ├── types/
    │   ├── utils/
    │   └── ...
    └── ...
```

> [!Note]
> These are just to give you an idea about how to structure you project and not the absolute you should always follow.

# Next Open Source Projects

1. [plane](https://github.com/makeplane/plane)
2. [twenty](https://github.com/twentyhq/twenty)
3. [rallly](https://github.com/lukevella/rallly)
4. [infisical](https://github.com/Infisical/infisical)
5. [supabase](https://github.com/supabase/supabase)
6. [dailydotdev](https://github.com/dailydotdev/apps)
7. [formbricks](https://github.com/formbricks/formbricks)
8. [dub](https://github.com/dubinc/dub)
9. [inbox-zero](https://github.com/elie222/inbox-zero)
10. [civitai](https://github.com/civitai/civitai)
11. [cal.com](https://github.com/calcom/cal.com)

# React Best Practices

### The best way to filter using useSearchParam

```js
export default function App() {
  const [searchParam, setSearchParam] = useSearchParam({ q: "", isActive: false });

  const q = searchParam.get("q");
  const isActive = searchParam.get("isActive") === "true";

  return (
    <>
      <input
        type="text"
        id="q"
        value={q}
        onChange={(e) =>
          setSearchParam(
            (prev) => {
              prev.set("q", e.target.value);
              return prev;
            },
            { replace: true },
          )
        }
      />
      <input
        type="checkbox"
        id="isActive"
        value={isActive}
        onChange={(e) =>
          setSearchParam((prev) => {
            prev.set("isActive", e.target.checked);
            return prev;
          })
        }
      />
    </>
  );
}
```

### The best way to change state in react and get the updated value instantly

```js
export default function App() {
  const [array, setArray] = useState([1, 2, 3]);

  const addToStart = (num) => {
    setArray((prev) => {
      return [num, ...prev];
    });
  };
  const addToEnd = (num) => {
    setArray((prev) => {
      return [...prev, num];
    });
  };

  return (
    <>
      {array}
      <button
        onClick={() => {
          addToStart(0);
          addToEnd(0);
        }}
      >
        Add
      </button>
    </>
  );
}
```

### To change tab title or html page title in React

```js
// Add this to the page components and change the title based on the page
document.title = "A new title";
```

### Functions

```js
// ES5
function getSum(a, b) {
  return a + b;
}

// ES6
const getSum = (a, b) => a + b;
```

### Template Literal String

```js
// ES5
var name = "Name";
console.log("My name is " + name);

// ES6
const name = "Name";
console.log(`My name is ${name}`);
```

### Use const & let instead of var

```js
// ES5
var fruits = ["apple", "banana"];

// ES6
let fruits = ["apple", "banana"];
fruits.push("mango");

const workingHours = 8;
```

### Object Destructuring

```js
var person = {
  name: "John",
  age: 32,
};

// ES5
var name = person.name;
var age = person.age;

// ES6
const { name, age } = person;
```

### Defining Objects

```js
var name = "John";
var age = 32;
var designations = "Game Developer";
var workingHours = 8;

// ES5
var person = {
  name: name,
  age: age,
  designation: designation,
  workingHours: workingHours,
};

// ES6
const person = { name, age, designation, workingHours };
```

### Component Name Should be in PascalCase

```js
const helloText = () => <div>Hello</div>; // wrong

const HelloText = () => <div>Hello</div>; // correct
```

### Variable & Function Names Should be in camelCase

```js
const working_hours = 10; // bad approach

const workingHours = 10; // good approach

const get_sum = (a, b) => a + b; // bad approach

const getSum = (a, b) => a + b; // good approach
```

### ID & Class Names Should be in kebab-case

```html
<!--bad approach-->
<div className="hello_word" id="hello_world">Hello World</div>

<!--good approach -->
<div className="hello-word" id="hello-world">Hello World</div>
```

### Always Check null & undefined for Objects & Arrays

```js
const person = {
  name: "John",
  state: "LA",
};
console.log("Age", person.age); // error
console.log("Age", person.age ? person.age : "Not available"); // correct
console.log("Age", person.age ?? "Not available"); //correct

const oddNumbers = undefined;
console.log(oddNumbers.length); // error
console.log(oddNumbers.length ? oddNumbers.length : "Array is undefined"); // correct
console.log(oddNumbers.length ?? "Array is undefined"); // correct
```

### Avoid Inline Styling

```js
const text = <div style={{ fontWeight: "bold" }}>Happy Learning!</div>; // bad approach

const text = <div className="learning-text">Happy Learning!</div>; // good approach
```

#### In .css file

```css
.learning-text {
  font-weight: bold;
}
```

### Avoid DOM Manipulation

#### Bad approach

```html
<div id="error-msg">Please enter a valid value</div>
```

```js
document.getElementById("error-msg").visibility = visible;
```

#### Good approach

```js
const [isValid, setIsValid] = useState(false);

<div hidden={isValid}>Please enter a valid value</div>;
```

### Always Remove Every Event Listener in useEffect

```js
const printHello = () => console.log("HELLO");
useEffect(() => {
  document.addEventListener("click", printHello);
  return () => document.removeEventListener("click", printHello);
});
```

### Avoid Repetition, Use Generic Components

```jsx
const Input=(props)=>{
  const [inputValue, setInputValue]=useState('');
  return(
    <label>{props.thing}</label>
    <input type='text' value={inputValue} onChange={(e)=>setInputValue(e.target.value)} />
  )
}

// Import Input and use instead of JSX
<div>
    <Input thing="First Name" />
    <Input thing="Second Name" />
</div>
```

### Use Ternary Operator Instead of if/else if Statements

```js
// Bad approach
if (name === "Ali") {
  return 1;
} else if (name === "Bilal") {
  return 2;
} else {
  return 3;
}

// Good approach
name === "Ali" ? 1 : name === "Bilal" ? 2 : 3;
```

### Make index.js File Name to Minimize Importing Complexity

```js
// If you have a file named index.js in a directory named actions and you want to import action from it in your component, your import would be like this

import { pageName } from "src/components/pages/index"; // Bad
import { pageName } from "src/components/pages"; // Good
```

### Destructuring of Props

```js
// Bad approach
const Details = (props) => {
  return (
    <div>
      <p>{props.name}</p>
      <p>{props.age}</p>
      <p>{props.designation}</p>
    </div>
  );
};

// Good approach
const Details = ({ name, age, designation }) => {
  return (
    <div>
      <p>{name}</p>
      <p>{age}</p>
      <p>{designation}</p>
    </div>
  );
};
```

### Don't Try to Access Modified State Variable in the Same Function

```js
// In a function, if you are assigning a value to a state variable then you won't be able to access that assigned value even after it has been assigned in that function

const Message = () => {
  const [message, setMessage] = useState("Hello World");
  const changeMessage = (messageText) => {
    setMessage("Happy Learning");
    console.log(message); // It will print Hello World on console
  };

  return <div>{message}</div>;
};
```

### Use === Operator instead of ==

```js
// While comparing two values, strictly checking both values and their data types is a good practice.

"2" == 2 ? true : false; // true
"2" === 2 ? true : false; // false
```

# Interview Questions

### Find 2nd largest number in array

```js
function nextBiggest(arr) {
  let max = 0,
    result = 0;

  for (const value of arr) {
    const nr = Number(value);
    if (nr > max) {
      [result, max] = [max, nr]; // save previous max
    } else if (nr < max && nr > result) {
      result = nr; // new second biggest
    }
  }
  return result;
}

const arr = ["20", "120", "111", "215", "215", "215", "54", "78"];
console.log(nextBiggest(arr));
```

### IIFE

```js
(async () => {
  await asyncCodeHere();
})();
```

### Suspense

```js
<Suspense fallback={<Loading />}>
  <SomeComponent />
</Suspense>
```

# Tailwind CSS

```html
<!-- Will clamp the text to max line <3> or give value -->
<div className="line-clamp-3">text</div>

<!-- Will clamp the text to max 1 line -->
<div className="truncate">text</div>
```

```html
<!-- put space between children without flex box -->
<div className="divide-y-8">
  <div className="size-8"></div>
  <div className="size-8"></div>
  <div className="size-8"></div>
</div>
```

```html
<!-- gradient -->
<div
  className="h-48 w-full bg-gradient-to-r from-red-500 to-green-500 via-white from-20%"
></div>
```

```html
<!-- button focus rings -->
<button className="size-8 bg-red-500 ring-4 ring-green-500">Click</button>
```

# Angular

## Component Libraries

1. [Angular Material](https://material.angular.io/)
2. [NG Bootstrap](https://ng-bootstrap.github.io/#/home)
3. [NGX-Bootstrap](https://valor-software.com/ngx-bootstrap/#/)
4. [PrimeNG](https://primeng.org/)
5. [ApexCharts](https://apexcharts.com/angular-chart-demos/)
6. [Nebular](https://akveo.github.io/nebular/)
7. [Clarity](https://clarity.design/)
8. [Core UI](https://coreui.io/angular/)
9. [Ignite UI for Angular](https://www.infragistics.com/products/ignite-ui-angular/angular/components/general/getting-started)

## Angular CLI

1. **Setup**

   ```properties
   npm install -g @angular/cli
   ```

2. **New Application**

   ```properties
   ng new <app-name>
   ```

3. **Lint for Formatting**

   The Lint command fixes code smells and corrects improper formatting.

   ```properties
   ng lint my-app --fix
   ```

   This command shows warnings:

   ```properties
   ng lint my-app
   ```

   If you want to format the code, you can use the following command.

   ```properties
   ng lint my-app --format stylish
   ```

4. **Blueprints**

   Generate spec:

   ```properties
   --spec
   ```

   Check whether the template will be a.ts file or not:

   ```properties
   --inline-template (-t)
   ```

   Check whether the style will be in the.ts file or not:

   ```properties
   --inline-style (-s)
   ```

   Create a directive:

   ```properties
   ng g d directive-name
   ```

   Create a pipeline:

   ```properties
   ng g p init-caps
   ```

   Create customer class in the models folder:

   ```properties
   ng g cl models/customer
   ```

   Creates a component without the need for the creation of a new folder.

   ```properties
   ng g c my-component --flat true
   ```

   Assign a prefix:

   ```properties
   --prefix
   ```

   Create an interface in the models folder:

   ```properties
   ng g i models/person
   ```

   Create an ENUM gender in the models folder:

   ```properties
   ng g e models/gender
   ```

   Create a service:

   ```properties
   ng g s <service-name>
   ```

5. **Building Serving**

   Build an app to /dist folder:

   ```properties
   ng build
   ```

   Optimize and build an app without using unnecessary code:

   ```properties
   ng build --aot
   ```

   Create a build for production:

   ```properties
   ng build --prod
   ```

   Specify serve with opening a browser:

   ```properties
   ng serve -o
   ```

   Reload when changes occur:

   ```properties
   ng serve --live-reload
   ```

   Serve using SSL:

   ```properties
   ng serve -ssl
   ```

6. **Add New Capabilities**

   Add angular material to project:

   ```properties
   ng add @angular/material
   ```

   Create a material navigation component:

   ```properties
   ng g @angular/material:material-nav --name nav
   ```

7. **Component Life Cycles**

   **ngOnInit**
   Called once, after the first ngOnChanges()

   **ngOnChanges**
   Called before ngOnInit() and whenever one of the input properties changes.

   **ngOnDestroy**
   Called just before Angular destroys the directive/component.

   **ngDoCheck**
   Called during every change detection run.

   **ngAfterContentChecked**
   Called after the ngAfterContentInit() and every subsequent ngDoCheck()

   **ngAfterViewChecked**
   Called after the ngAfterViewInit() and every subsequent ngAfterContentChecked().

   **ngAfterContentInit**
   Called once after the first ngDoCheck().

   **ngAfterViewInit**
   Called once after the first ngAfterContentChecked().

8. **Template Syntax**

   Interpolation - generates user name.

   ```html
   {{user.name}}
   ```

   property binding - bind image url for user to src attribute

   ```html
   <img [src]="user.imageUrl" />
   ```

   Event - assign function to click event

   ```html
   <button (click)="do()" ... />
   ```

   Show button when user.showSth is true

   ```html
   <button \*ngIf="user.showSth" ... />
   ```

   Iterate through the items list

   ```html
   *ngFor="let item of items"
   ```

   Angular ngClass attribute

   ```html
   <div [ngClass]="{green: isTrue(), bold: itTrue()}" />
   ```

   Angular ngStyle attribute

   ```html
   <div [ngStyle]="{'color': isTrue() ? '#bbb' : '#ccc'}" />
   ```

9. **Input and Output**

   Input() To pass value into child component

   Sample child component implementation:

   ```ts
   export class SampleComponent {
       @Input() value: any/string/object/…;
       ...
   }
   ```

   Sample parent component usage:

   ```ts
   <app-sample-component [value]="myValue"></app-sampe-component>
   Output() Emitting event to parent component
   Sample child component:
   @Output() myEvent: EventEmitter = new EventEmitter();
   onRemoved(item: MyModel) {
   this.myEvent.emit(item);
   }
   ```

   Sample parent component:

   ```html
   <app-my-component (myEvent)="someFunction()"></app-my-component>
   ```

   onRemoved in the child component is calling the someFunction() method in the parent component, as we can see in the above two child and parent components.

10. **Content Projection**

    Content projection in Angular is a pattern in which you inject the desired content into a specific component.

    Here’s an example of a parent component template:

    ```html
    <component>
      <div>(some html here)</div>
    </component>
    ```

    Child component template:

    ```html
    <ng-content></ng-content>
    ```

    Let us now inject the following HTML code in the parent component template:

    ```html
    <div well-body>(some html here)</div>
    ```

    It will look like:

    ```html
    <component>
      <div well-title>(some html here)</div>
      <div well-body>(some html here)</div>
    </component>
    ```

    When we combine both the above parent and child template, you get the following result:

    ```html
    <component>
      <div well-title>(some html here)</div>
      <div well-body>(some html here)</div>
    </component>
    <ng-content select="title"></ng-content>
    <ng-content select="body"></ng-content>
    ```

11. **ViewChild Decorator**

    Offers access to child component/directive/element:

    ```ts
    @ViewChild(NumberComponent) private numberComponent: NumberComponent; increase() {
    this.numberComponent.increaseByOne(); //method from child component } decrease() {
    this.numberComponent.decreaseByOne(); //method from child component }
    ```

    Sample for element: html:

    ```html
    <div #myElement></div>
    ```

    component:

    ```ts
    @ViewChild('myElement') myElement: ElementRef
    ```

    Instead ElementRef can be used for specific elements like FormControl for forms.

    Reference to element in html:

    ```html
    <button (click)="doSth(myElement)"></button>
    ```

12. **Routing**

    The Angular Router enables navigation from one view to the next as users perform application tasks.

    Sample routing ts file:

    ```ts
    const appRoutes: Routes = [
      { path: "crisis-center", component: CrisisListComponent },
      { path: "prod/:id", component: HeroDetailComponent },
      {
        path: "products",
        component: ProductListComponent,
        data: { title: "Products List" },
      },
      {
        path: "",
        redirectTo: "/products",
        pathMatch: "full",
      },
      { path: "**", component: PageNotFoundComponent },
    ];
    ```

    Then, this should be added inside Angular.module imports:

    ```ts
    RouterModule.forRoot(appRoutes);
    ```

    You can also turn on console tracking for your routing by adding enableTracing:

    ```ts
    imports: [RouterModule.forRoot(routes,{enableTracing: true})],
    ```

    Usage

    ```html
    <a routerLink="/crisis-center" routerLinkActive="active"> Crisis Center </a>
    ```

    routerLinkActive="active" will add active class to element when the link's route becomes active

    ```ts
    //Navigate from code
    this.router.navigate(["/heroes"]);
    // with parameters
    this.router.navigate(["/heroes", { id: heroId, foo: "foo" }]);
    // Receive parameters without Observable
    let id = this.route.snapshot.paramMap.get("id");
    ```

    CanActivate and CanDeactivate
    In Angular routing, two route guards are CanActivate and CanDeactivate. The former decides whether the route can be activated by the current user, while the latter decides whether the router can be deactivated by the current user.

    CanActivate:

    ```ts
    class UserToken {}
    class Permissions {
      canActivate(user: UserToken, id: string): boolean {
        return true;
      }
    }
    ```

    CanDeactivate:

    ```ts
    class UserToken {}
    class Permissions {
      canDeactivate(user: UserToken, id: string): boolean {
        return true;
      }
    }
    ```

13. **Modules**

    Angular apps are modular and Angular has its own modularity system called NgModules. NgModules are containers for a cohesive block of code dedicated to an application domain, a workflow, or a closely related set of capabilities.

    **Sample Module with Comments**

    ```ts
    import { BrowserModule } from "@angular/platform-browser";
    import { NgModule } from "@angular/core";
    import { AppRoutingModule } from "./app-routing.module";
    import { AppComponent } from "./app.component";
    @NgModule({
      declarations: [AppComponent], // components, pipes, directives
      imports: [BrowserModule, AppRoutingModule], // other modules
      providers: [], // services
      bootstrap: [AppComponent], // top component
    })
    export class AppModule {}
    ```

14. **Services**

    Components shouldn't fetch or save data directly and they certainly shouldn't knowingly present fake data. Instead, they should focus on presenting data and delegate data access to a service.

    Sample service with one function:

    ```ts
    @Injectable()
    export class MyService {
      public items: Item[];
      constructor() {}
      getSth() {
        // some implementation
      }
    }
    ```

    When you create any new instance of the component class, Angular determines the services and other dependencies required by that component by looking at the parameters defines in the constructor as follows:

    ```ts
    constructor(private dogListService: MyService){ }
    ```

    The above constructor requires the service: MyService

    Register MyService in the providers module:

    ```ts
    providers: [MyService];
    ```

15. **HttpClient**

    This command handles and consumes http requests.

    Add import to module:

    ```ts
    import { HttpClientModule } from "@angular/common/http";
    ```

    You can use the above statement in the following way:

    ```ts
    import {HttpClient} from '@angular/common/http';
    ...

    // GET
    public getData(): Observable {
        return this.http.get('api/users/2');
    }

    // POST
    public send(val1: any, val2: any): Observable {
        const object = new SendModel(val1, val2);
        const options = {headers: new HttpHeaders({'Content-type': 'application/json'})};
        return this.http.post(environment.apiUrl + 'api/login', object, options);
    }
    ```

16. **Dependency Injection**

    This injects a class into another class:

    ```ts
    @Injectable({
      providedIn: "root",
    })
    export class SomeService {}
    ```

    It accepts 'root' as a value or any module of your application.

17. **Declare Global Values**

    Class:

    ```ts
    import { InjectionToken } from "@angular/core";
    export const CONTROLS_GLOBAL_CONFIG = new InjectionToken("global-values");
    export interface ControlsConfig {
      firstGlobalValue: string;
    }
    ```

    Module:

    ```ts
    providers: [{provide: CONTROLS_GLOBAL_CONFIG, useValue: {firstGlobalValue : 'Some value' }},
    ```

    Usage (for example in component):

    ```ts
    constructor(@Optional() @Inject(CONTROLS_GLOBAL_CONFIG) globalValues: ControlsConfig) {}
    ```

18. **Pipes**

    Pipes transform data and values to a specific format. For example:

    Show date in shortDate format:

    ```ts
    {{model.birthsDay | date:'shortDate'}}
    ```

    Pipe implementation:

    ```ts
    @Pipe({ name: "uselessPipe" })
    export class uselessPipe implements PipeTransform {
      transform(value: string, before: string, after: string): string {
        let newStr = `${before} ${value} ${after}`;
        return newStr;
      }
    }
    ```

    usage:

    ```ts
    {{ user.name | uselessPipe:"Mr.":"the great" }}
    ```

19. **Directives**

    An Attribute directive changes A DOM element’s appearance or behavior. For example, [ngStyle] is a directive.

    Custom directive:

    ```ts
    import { Directive, ElementRef, HostListener, Input } from "@angular/core";
    @Directive({
      selector: "[appHighlight]",
    })
    export class HighlightDirective {
      constructor(private el: ElementRef) {}
      @Input("appHighlight") highlightColor: string;
      @Input("otherPar") otherPar: any; //it will be taken from other attribute named [otherPar]
      @HostListener("mouseenter") onMouseEnter() {
        this.highlight(this.highlightColor || "red");
      }
      private highlight(color: string) {
        this.el.nativeElement.style.backgroundColor = color;
      }
    }
    ```

    Usage:

    ```html
    <p [appHighlight]="color" [otherPar]="someValue">Highlight me!</p>
    ```

20. **Animations**

    Animations allow you to move from one style state to another before adding BrowserModule and BrowserAnimationsModule to the module.

    Implementation:

    ```ts
    animations: [
      trigger("openClose", [
        state(
          "open",
          style({
            height: "400px",
            opacity: 1.5,
          }),
        ),
        state(
          "closed",
          style({
            height: "100px",
            opacity: 0.5,
          }),
        ),
        transition("open => closed", [animate("1s")]),
        transition("closed => open", [animate("1s")]),
      ]),
    ];
    ```

    Usage:

    ```html
    <div [@openClose]="isShowed ? 'open' : 'closed'"></div>
    ```

21. **Angular Forms**

    In this section of our Angular 4 cheat sheet, we’ll discuss different types of Angular forms.

    **Template Driven Forms**

    Form logic (validation, properties) are kept in the template.

    sample html:

    ```html
    <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
      <div class="form-group">
        <label for="firstName">First Name</label>

        <input
          type="text"
          class="form-control"
          name="firstName"
          [(ngModel)]="model.firstName"
          #firstName="ngModel"
          [ngClass]="{ 'is-invalid': f.submitted && firstName.invalid }"
          required
        />
        <div *ngIf="f.submitted && firstName.invalid" class="invalid-feedback">
          <div *ngIf="firstName.errors.required">First Name is required</div>
        </div>
      </div>
      <div class="form-group">
        <button class="btn btn-primary">Register</button>
      </div>
    </form>
    ```

    Sample component:

    ```ts
    @ViewChild("f") form: any;

    firstName: string = "";
    langs: string[] = ["English", "French", "German"];
    onSubmit() {
        if (this.form.valid) {
            console.log("Form Submitted!");
            this.form.reset();
        }
    }
    ```

    **Reactive Forms**

    Form logic (validation, properties) are kept in the component.

    Sample HTML:

    ```html
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label>Email</label>
        <input
          type="text"
          formControlName="email"
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && f.email.errors }"
        />
        <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
          <div *ngIf="f.email.errors.required">Email is required</div>
          <div *ngIf="f.email.errors.email">Email must be a valid email address</div>
        </div>
      </div>
      <div class="form-group">
        <button [disabled]="loading" class="btn btn-primary">Register</button>
      </div>
    </form>
    ```

    Sample component:

    ```ts
    registerForm: FormGroup;
    submitted = false;
    constructor(private formBuilder: FormBuilder) { }
    ngOnInit() {
        this.registerForm = this.formBuilder.group({
        firstName: [{{here default value}}, Validators.required],
        lastName: ['', Validators.required],
        email: ['', [Validators.required, Validators.email]],
        password: ['', [Validators.required, Validators.minLength(6)]]
        });
    }

    // convenience getter for easy access to form fields
    get f() { return this.registerForm.controls; }
    onSubmit() {
        this.submitted = true;
        // stop here if form is invalid
        if (this.registerForm.invalid) {
            return;
        }
        alert('SUCCESS!! :-)')
    }
    ```

    **Custom Validator for Reactive Forms**

    Function:

    ```ts
    validateUrl(control: AbstractControl) {
        if (!control.value || control.value.includes('.png') || control.value.includes('.jpg')) {
            return null;
        }
        return { validUrl: true };
    }
    ```

    Usage:

    ```ts
    this.secondFormGroup = this._formBuilder.group({
      imageCtrl: ["", [Validators.required, this.validateUrl]],
    });
    ```

    Multi-field validation:

    ```ts
    validateNameShire(group: FormGroup) {
        if (group) {
            if (group.get('isShireCtrl').value && !group.get('nameCtrl').value.toString().toLowerCase().includes('shire')) {
                return { nameShire : true };
            }
        }
        return null;
    }
    ```

    Multi-field validation usage:\*

    ```ts
    this.firstFormGroup.setValidators(this.validateNameShire);
    ```

    Error handling:

    ```html
    <div *ngIf="firstFormGroup.controls.nameCtrl.errors.maxlength">Name is too long</div>

    <div *ngIf="firstFormGroup.errors.nameShire">
      Shire dogs should have "shire" in name
    </div>
    ```

    **Custom Validator Directive for Template-Driven Forms**

    Shortly, we’ll cover how to register our custom validation directive to the NG_VALIDATORS service. Thanks to multi-parameter we won't override NG_VALIDATORS but just add CustomValidator to NG_VALIDATORS).

    Here’s what you use:

    ```ts
    @Directive({
        selector: '[CustomValidator]',
        providers: [{provide: NG_VALIDATORS, useExisting: CustomValidator, multi:true}]
    })
    ```

    Example:

    ```ts
    @Directive({
        selector: '[customValidation]',
        providers: [{provide: NG_VALIDATORS, useExisting: EmailValidationDirective, multi: true}]
    })

    export class CustomValidation implements Validator {
        constructor() { }
        validate(control: AbstractControl): ValidationErrors {
            return (control.value && control.value.length <= 300) ?
            {myValue : true } : null;
        }
    }
    For multiple fields:
    validate(formGroup: FormGroup): ValidationErrors {
        const passwordControl = formGroup.controls["password"];
        const emailControl = formGroup.controls["login"];
        if (!passwordControl || !emailControl || !passwordControl.value || !emailControl.value) {
            return null;
        }
        if (passwordControl.value.length > emailControl.value.length) {
            passwordControl.setErrors({ tooLong: true });
        } else {
            passwordControl.setErrors(null);
        }
        return formGroup;
    }
    ```

    **ngModel in Custom Component**

    Add to module:

    ```ts
    providers: [{
        provide: NG_VALUE_ACCESSOR,
        useExisting: forwardRef(() => TextAreaComponent),
        multi: true
        }]

    Implement ControlValueAccessor interface
    interface ControlValueAccessor {
        writeValue(obj: any): void
        registerOnChange(fn: any): void
        registerOnTouched(fn: any): void
        setDisabledState(isDisabled: boolean)?: void
    }
    ```

    **registerOnChange**

    Register a function to tell Angular when the value of the input changes.

    **registerOnTouched**

    Register a function to tell Angular when the value was touched.

    **writeValue**

    Tell Angular how to write a value to the input.

    Sample implementation:

    ```ts
    @Component({
      selector: "app-text-area",
      templateUrl: "./text-area.component.html",
      styleUrls: ["./text-area.component.less"],
      providers: [
        {
          provide: NG_VALUE_ACCESSOR,
          useExisting: forwardRef(() => TextAreaComponent),
          multi: true,
        },
      ],
    })
    export class TextAreaComponent implements ControlValueAccessor, OnInit {
      @Input() value: string;
      private _onChange = (data: any) => {
        console.log("changed: " + data);
      };
      private _onTouched = (data?: any) => {
        console.log("touched: " + data);
      };
      ngOnInit(): void {
        const self = this;
      }
      constructor() {}
      writeValue(obj: any): void {
        this.value = obj;
      }
      registerOnChange(fn) {
        this._onChange = fn;
      }
      registerOnTouched(fn: any): void {
        this._onTouched = fn;
      }
    }
    ```

22. **Tests**

    Every software application under development needs to be tested to verify its correctness, and so do the Angular applications. Testing implies executing various tests or test cases on an application to validate it functionality and correctness.

    **Unit tests**

    Unit testing, in general, is a type of software testing level that checks various components of an application separately. In Angular, the default unit testing framework is Jasmine. It is widely utilized while developing an Angular project using CLI.

    Service:

    ```ts
    describe('MyService', () => {
        let service: MyService;
        beforeEach(() => service = new MyService();
        it('#fetch should update data', () => {
        service.fetchData();
        expect(service.data.length).toBe(4);
        expect(service.data[0].id).toBe(1);
        });
    });
    ```

    For async functions:

    ```ts
    it("#fetch should update data", (done: DoneFn) => {
      // some code
      done(); // we need 'done' to avoid test finishing before date was received
      // some code
    });
    ```

    example async test:

    ```ts
    it("http client works", (done: DoneFn) => {
      service.getUser().subscribe((data) => {
        expect(data).toBe("test");
        done();
      });
    });
    ```

23. **Spy and stub**

    When you make calls during the testing process, a stub provides canned answers to all those calls. It does not respond to anything outside the program under test.

    A spy is a stub that records the information based on the calls you make during the test.

    **Spy:**

    ```ts
    // create spied object by copy getDataAsync from HttpService
    const valueServiceSpy = jasmine.createSpyObj("HttpService", ["getDataAsync"]);
    ```

    **Stub:**

    ```ts
    const stubValue = of("StubValue");
    valueServiceSpy.getDataAsync.and.returnValue(stubValue);
    ```

    **TestBed Mock whole module/environment for unit tests:**

    ```ts
    beforeEach(() => {
      let httpClientMock = TestBed.configureTestingModule({
        providers: [{ provide: MyService, useValue: new MyService(httpClientMock) }],
      });
    });
    ```

    Then use tested object (for example service) like this:

    ```ts
    service = TestBed.get(MyService);
    ```

    We can add schemas: [NO_ERRORS_SCHEMA]. This means that we don’t have to mock child component dependencies of this component because Angular won’t yell if we don’t include them!

24. **Miscellaneous**

    **Http Interceptor**
    An HTTP interceptor can handle any given HTTP request.

    Class:

    ```ts
    @Injectable()
    export class MyInterceptor implements HttpInterceptor {
        constructor() { }
        intercept(request: HttpRequest, next: HttpHandler): Observable> {
            // do sth (like check and throw error)
            return next.handle(request); //if want continue
        }
    }
    ```

    Parameters:

    - req: HttpRequest\<any> - It is the object that handles outgoing requests.
      next: HttpHandler
    - next: HttpHandler - It indicates the next interceptor in the line or the backend in case there are no interceptors.

    Returns:

    An HTTP interceptor returns the observable of the event stream.

    Observable<HttpEvent\<any>>
